[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Practical 1: PCA",
    "section": "",
    "text": "Edit the code below and click “Run”.\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 700\nlibrary(shiny)\n\nui &lt;- fluidPage(\n  titlePanel(\"Multivariate Stats: Student-Led PCA\"),\n  sidebarLayout(\n    sidebarPanel(\n      # 1. File Upload\n      fileInput(\"file1\", \"Upload CSV File\", accept = \".csv\"),\n      tags$hr(),\n      \n      # 2. Dynamic UI for Variable Selection (appears after upload)\n      uiOutput(\"var_selector\"),\n      \n      # 3. PCA Settings\n      checkboxInput(\"scale\", \"Scale Variables? (Recommended)\", TRUE),\n      tags$hr(),\n      \n      # 4. Axis Selection\n      numericInput(\"pc_x\", \"PC for X-axis:\", 1, min = 1),\n      numericInput(\"pc_y\", \"PC for Y-axis:\", 2, min = 1)\n    ),\n    \n    mainPanel(\n      tabsetPanel(\n        tabPanel(\"Biplot\", plotOutput(\"pca_plot\", height = \"600px\")),\n        tabPanel(\"Summary & Loadings\", verbatimTextOutput(\"pca_summary\")),\n        tabPanel(\"Data Preview\", tableOutput(\"data_preview\"))\n      )\n    )\n  )\n)\n\nserver &lt;- function(input, output, session) {\n  \n  # Reactive: Read data, remove NAs, and keep only numeric\n  raw_data &lt;- reactive({\n    req(input$file1)\n    df &lt;- read.csv(input$file1$datapath)\n    df &lt;- na.omit(df) # Remove rows with NAs\n    # Keep only numeric columns for selection\n    df_num &lt;- df[sapply(df, is.numeric)]\n    return(df_num)\n  })\n\n  # Generate the checklist of variables based on the uploaded file\n  output$var_selector &lt;- renderUI({\n    df &lt;- raw_data()\n    choices &lt;- names(df)\n    checkboxGroupInput(\"selected_vars\", \"Choose Variables for PCA:\", \n                       choices = choices, selected = choices[1:min(3, length(choices))])\n  })\n\n  # Reactive: Perform the PCA\n  pca_res &lt;- reactive({\n    req(input$selected_vars)\n    req(length(input$selected_vars) &gt;= 2) # Need at least 2 vars for PCA\n    \n    data_for_pca &lt;- raw_data()[, input$selected_vars]\n    prcomp(data_for_pca, scale. = input$scale)\n  })\n\n  # Output: Biplot\n  output$pca_plot &lt;- renderPlot({\n    req(pca_res())\n    biplot(pca_res(), choices = c(input$pc_x, input$pc_y), \n           main = \"Interactive PCA Biplot\", cex = 0.8)\n    abline(h = 0, v = 0, lty = 2, col = \"gray\")\n  })\n\n  # Output: Summary\n  output$pca_summary &lt;- renderPrint({\n    req(pca_res())\n    cat(\"Standard Deviations (Eigenvalues):\\n\")\n    print(pca_res()$sdev)\n    cat(\"\\nRotation (Loadings):\\n\")\n    print(pca_res()$rotation)\n    cat(\"\\nSummary of Variance:\\n\")\n    summary(pca_res())\n  })\n\n  # Output: Data Preview\n  output$data_preview &lt;- renderTable({\n    head(raw_data(), 10)\n  })\n}\n\nshinyApp(ui, server)"
  },
  {
    "objectID": "index.html#pca-exercise",
    "href": "index.html#pca-exercise",
    "title": "Practical 1: PCA",
    "section": "",
    "text": "Edit the code below and click “Run”.\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 700\nlibrary(shiny)\n\nui &lt;- fluidPage(\n  titlePanel(\"Multivariate Stats: Student-Led PCA\"),\n  sidebarLayout(\n    sidebarPanel(\n      # 1. File Upload\n      fileInput(\"file1\", \"Upload CSV File\", accept = \".csv\"),\n      tags$hr(),\n      \n      # 2. Dynamic UI for Variable Selection (appears after upload)\n      uiOutput(\"var_selector\"),\n      \n      # 3. PCA Settings\n      checkboxInput(\"scale\", \"Scale Variables? (Recommended)\", TRUE),\n      tags$hr(),\n      \n      # 4. Axis Selection\n      numericInput(\"pc_x\", \"PC for X-axis:\", 1, min = 1),\n      numericInput(\"pc_y\", \"PC for Y-axis:\", 2, min = 1)\n    ),\n    \n    mainPanel(\n      tabsetPanel(\n        tabPanel(\"Biplot\", plotOutput(\"pca_plot\", height = \"600px\")),\n        tabPanel(\"Summary & Loadings\", verbatimTextOutput(\"pca_summary\")),\n        tabPanel(\"Data Preview\", tableOutput(\"data_preview\"))\n      )\n    )\n  )\n)\n\nserver &lt;- function(input, output, session) {\n  \n  # Reactive: Read data, remove NAs, and keep only numeric\n  raw_data &lt;- reactive({\n    req(input$file1)\n    df &lt;- read.csv(input$file1$datapath)\n    df &lt;- na.omit(df) # Remove rows with NAs\n    # Keep only numeric columns for selection\n    df_num &lt;- df[sapply(df, is.numeric)]\n    return(df_num)\n  })\n\n  # Generate the checklist of variables based on the uploaded file\n  output$var_selector &lt;- renderUI({\n    df &lt;- raw_data()\n    choices &lt;- names(df)\n    checkboxGroupInput(\"selected_vars\", \"Choose Variables for PCA:\", \n                       choices = choices, selected = choices[1:min(3, length(choices))])\n  })\n\n  # Reactive: Perform the PCA\n  pca_res &lt;- reactive({\n    req(input$selected_vars)\n    req(length(input$selected_vars) &gt;= 2) # Need at least 2 vars for PCA\n    \n    data_for_pca &lt;- raw_data()[, input$selected_vars]\n    prcomp(data_for_pca, scale. = input$scale)\n  })\n\n  # Output: Biplot\n  output$pca_plot &lt;- renderPlot({\n    req(pca_res())\n    biplot(pca_res(), choices = c(input$pc_x, input$pc_y), \n           main = \"Interactive PCA Biplot\", cex = 0.8)\n    abline(h = 0, v = 0, lty = 2, col = \"gray\")\n  })\n\n  # Output: Summary\n  output$pca_summary &lt;- renderPrint({\n    req(pca_res())\n    cat(\"Standard Deviations (Eigenvalues):\\n\")\n    print(pca_res()$sdev)\n    cat(\"\\nRotation (Loadings):\\n\")\n    print(pca_res()$rotation)\n    cat(\"\\nSummary of Variance:\\n\")\n    summary(pca_res())\n  })\n\n  # Output: Data Preview\n  output$data_preview &lt;- renderTable({\n    head(raw_data(), 10)\n  })\n}\n\nshinyApp(ui, server)"
  }
]